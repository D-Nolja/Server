<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dang.dnolja.location.model.mapper.FclMapper">

    <insert id="insertPlan" parameterType="java.util.Map">
        INSERT INTO Plan (user_id, start, end) VALUES (#{userId}, #{start}, #{end})
        <selectKey keyProperty="planId" order="AFTER" resultType="Long">
            SELECT LAST_INSERT_ID() AS planId
        </selectKey>
    </insert>

    <insert id="insertDaily" parameterType="java.util.Map">
        INSERT INTO Daily (plan_id, order, day_num) VALUES (#{planId}, #{order}, #{dayNum})
        <selectKey keyProperty="dailyId" order="AFTER" resultType="Long">
            SELECT LAST_INSERT_ID() AS dailyId
        </selectKey>
    </insert>

    <insert id="insertDailyToSpot" parameterType="java.util.Map">
        INSERT INTO daily_to_spot (daily_id, spot_id) VALUES (#{dailyId}, #{spotId})
    </insert>



</mapper>
